<!doctype html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5">


	<title>Examples</title>

	
	
	
	<!-- RStudio's default scripts and style sheets -->
		<script src="site_libs/header-attrs-2.14/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
	
	<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Source+Sans+Pro:bold,400|Open+Sans&display=swap">
	<link rel="stylesheet" href="template_libs/scc/css/styles.css" type="text/css" />
	<link rel="stylesheet" href="template_libs/scc/css/bootstrap-select.css" media="screen" type="text/css" />
	<link rel="stylesheet" href="template_libs/scc/css/bootstrap.css" media="screen" type="text/css" />
	<link rel="stylesheet" href="template_libs/scc/css/bootstrap-theme.css" media="screen" type="text/css" />
	<link rel="stylesheet" href="template_libs/scc/css/print-styles.css" type="text/css" />

	<!-- User style sheets -->
	
	</head>


<!-- Page top section -->
<!-- Header -->
<header>
	<div class="site-header" aria-label="Header" role="Header">
		<div class="hidden-print">
			<div class="container header-menu">
				<div class="row header-row">
					<div class="col-xs-8 col-sm-10 col-md-6 col-lg-8 site-logo">
						<a href="/" title="Suffolk County Council">
							<i class="sccicon sccicon-no-border sccicon-suffolk-county-council">
								Suffolk County Council
							</i>
						</a>
					</div>
				</div>
			</div>
		</div>
	</div>
</header>

<body>
	<a name="content"></a>
		<div class="content-page-wrapper" id="scc-page-wrapper">
			<!-- Breadcrumbs Wrapper-->
				<div class="breadcrumbs-wrapper">
			<div class="container">
				<div class="row">
					<div class="col-xs-12 col-sm-12 col-lg-12">
						<div class="breadcrumbs">
							<ul>
																<li>
																		<a class="breadcrumb-1" href="index.html">
																														Home
																												</li>
																<li>
																													Examples
																												</li>
															</ul>
						</div>
					</div>
				</div>
			</div>
		</div>
		
		<!-- Page intro, title, author etc -->
		<div class="page-intro">
			<div class="container">
				<div class="row">
					<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
												<h1 style="text-align:left;">
							Examples
						</h1>
						
						
						
						
					</div>
				</div>
			</div>
		</div>
<!-- Page index, for homepage only -->
				<div class="other-pages page-section">
			<div class="arrow-down-lighter-blue"></div>
		</div>

		<!-- Page Content -->
		<div class="container page-content">
			<div class="row">
				<!-- Main Body -->
				<div class="col-xs-12 col-sm-12 col-md-8 col-lg-9 left-column">
					<div id="make-a-barchart" class="section level2">
<h2>Make a barchart</h2>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gapminder)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(sccthemes)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>barchart_data <span class="ot">&lt;-</span> gapminder <span class="sc">|&gt;</span> </span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(year <span class="sc">==</span> <span class="dv">2007</span> <span class="sc">&amp;</span> continent <span class="sc">==</span> <span class="st">&quot;Europe&quot;</span>) <span class="sc">|&gt;</span> </span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(gdpPercap)) <span class="sc">|&gt;</span> </span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">5</span>)</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="fu">scc_barchart</span>(</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>  barchart_data,</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> <span class="st">&quot;country&quot;</span>,</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">y =</span> <span class="st">&quot;gdpPercap&quot;</span>,</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>  <span class="at">title =</span> <span class="st">&quot;Europe&#39;s Richest Countries&quot;</span>,</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>  <span class="at">subtitle =</span> <span class="st">&quot;GDP per Capita, 2007&quot;</span></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p><img src="examples_files/figure-html/helper_example-1.png" width="672" /></p>
</div>
<div id="make-a-piechart" class="section level2">
<h2>Make a piechart</h2>
<p>Example on how to make a pie chart, but <a
href="https://www.data-to-viz.com/caveat/pie.html">why you
shouldn’t</a></p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(sccthemes)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gapminder)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>asia_pop <span class="ot">&lt;-</span> gapminder <span class="sc">|&gt;</span> </span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(year <span class="sc">==</span> <span class="dv">1997</span> <span class="sc">&amp;</span> continent <span class="sc">==</span> <span class="st">&quot;Asia&quot;</span>) <span class="sc">|&gt;</span> </span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(country, lifeExp, pop, gdpPercap) <span class="sc">|&gt;</span> </span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">top_n</span>(<span class="dv">5</span>)</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>asia_pop<span class="sc">$</span>country <span class="ot">&lt;-</span> forcats<span class="sc">::</span><span class="fu">fct_drop</span>(asia_pop<span class="sc">$</span>country)</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a><span class="fu">scc_piechart</span>(</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>  asia_pop,</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>  asia_pop<span class="sc">$</span>gdpPercap,</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>  asia_pop<span class="sc">$</span>country,</span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>  <span class="at">title =</span> <span class="st">&quot;GDP per Capita contribution percentage by county&quot;</span>,</span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>  <span class="at">subtitle =</span> <span class="st">&quot;Five largest countries only&quot;</span></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p><img src="examples_files/figure-html/piechart-1.png" width="672" /></p>
</div>
<div id="publishing-your-plots" class="section level2">
<h2>Publishing your plots</h2>
<p>To publish your work, so will need to save your plot. Saving plots in
ggplot2 can be a bit of a hassle, so we’re porting bbplot’s
<code>finalise_plot()</code> function. Some adjustments have been made,
for example we might not want a logo on every plot. Also, because this
package does not just deal with ggplot, I’ve renamed the function
<code>finalise_ggplot()</code>, to specify this is for
<code>ggplot2</code> object only.</p>
<p>Once you have created your plot and are happy with it, you can use
<code>finalise_ggplot()</code> so that you can look at it outside
RStudio. Note that the position of the text and other elements do not
render accurately in the RStudio Plots panel, so saving it out and
opening up the files give you an accurate representation of how the
graphic looks.</p>
<p>Also you might want to use the same plot for different purpose: the
size of a plot in a presentation will need to be a different size from
one in a report. <code>finalise_ggplot()</code> allows for this without
having to change the original plot.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gapminder)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(sccthemes)</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>barchart_data <span class="ot">&lt;-</span> gapminder <span class="sc">|&gt;</span> </span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(year <span class="sc">==</span> <span class="dv">2007</span> <span class="sc">&amp;</span> continent <span class="sc">==</span> <span class="st">&quot;Europe&quot;</span>) <span class="sc">|&gt;</span> </span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(gdpPercap)) <span class="sc">|&gt;</span> </span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">5</span>)</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>plot_to_save <span class="ot">&lt;-</span> <span class="fu">scc_barchart</span>(</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>  barchart_data,</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> <span class="st">&quot;country&quot;</span>,</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">y =</span> <span class="st">&quot;gdpPercap&quot;</span>,</span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>  <span class="at">title =</span> <span class="st">&quot;Europe&#39;s Richest Countries&quot;</span>,</span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>  <span class="at">subtitle =</span> <span class="st">&quot;GDP per Capita, 2007&quot;</span></span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a><span class="fu">finalise_ggplot</span>(</span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>  plot_to_save,</span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>  <span class="at">source =</span> <span class="st">&quot;Jennifer Bryan, 2017, Gapminder R package, https://github.com/jennybc/gapminder&quot;</span>,</span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a>  <span class="at">save_filepath =</span> <span class="st">&quot;inst/plots/publish_plot_example.png&quot;</span>,</span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>  <span class="at">width_pixels =</span> <span class="dv">225</span>,</span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a>  <span class="at">height_pixels =</span> <span class="dv">165</span></span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p align="center">
<img src="inst/plots/publish_plot_example.png">
</p>
</div>
				</div>
				<!-- Sidebar -->
				<!-- Contains automatically-generated table of contents -->
								<div class="col-xs-12 col-sm-12 col-md-4 col-lg-3 right-column hidden-print hidden-xs hidden-sm">
					<div class="section-navigation hidden-xs hidden-sm">
						<nav class="section-menu">
														<ul>
<li><a href="#make-a-barchart" id="toc-make-a-barchart">Make a
barchart</a></li>
<li><a href="#make-a-piechart" id="toc-make-a-piechart">Make a
piechart</a></li>
<li><a href="#publishing-your-plots"
id="toc-publishing-your-plots">Publishing your plots</a></li>
</ul>
													</nav>
					</div>
				</div>
							</div>
		</div>
		<!--End of Page Content-->
	</div>

	<!-- Footer -->
	<div class="container-fluid footer-wrapper" role="Footer" aria-label="Footer">
		<div class="row">
			<div class="container footer-inner">
				<div class="row">
					<div class="col-xs-12 col-sm-12 col-md-7 col-lg-6 hidden-print">
						<ul>
							<li>
								<a href="https://contact.suffolk.gov.uk/" title="Contact">
									Contact
								</a>
							</li>

							<li>
								<a href="https://www.suffolk.gov.uk/about/web-accessibility/" title="Accessibility">
									Accessibility
								</a>
							</li>

							<li>
								<a href="https://www.suffolk.gov.uk/about/privacy-and-data-protection/" title="Privacy">
									Privacy
								</a>
							</li>

							<li>
								<a href="https://www.suffolk.gov.uk/about/cookies/" title="Cookies">
									Cookies
								</a>
							</li>

							<li>
								<a href="https://www.suffolk.gov.uk/about/terms-and-conditions/"
									title="Terms and conditions">
									Terms and conditions
								</a>
							</li>

							<li>
								<a href="https://www.suffolk.gov.uk/council-and-democracy/our-aims-and-transformation-programmes/modern-slavery-statement/"
									title="Modern slavery">
									Modern slavery
								</a>
							</li>
						</ul>
					</div>
					<div class="col-xs-12 col-sm-12 col-md-5 col-lg-6">
						<div class="copyright">
							<p>Site and content &copy; Suffolk County Council 2022</p>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</body>
